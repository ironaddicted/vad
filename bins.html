<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Trash Bin Schedule</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
    }

    #bins {
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <h2>Trash Bins This Week</h2>
  <div id="bins"></div>

  <script>
    function getWeekNumber(d) {
      d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
      const dayNum = d.getUTCDay() || 7;
      d.setUTCDate(d.getUTCDate() + 4 - dayNum);
      const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
      return Math.ceil((((d - yearStart) / 86400000) + 1) / 7);
    }

    function generateTrashBinSVG(...colors) {
      function singleBin(color, xOffset = 0) {
        return `
          <g transform="translate(${xOffset}, 0)">
            <rect x="20" y="30" width="60" height="90" rx="8" ry="8" fill="${color}" stroke="black" stroke-width="2"/>
            <rect x="15" y="20" width="70" height="15" rx="3" ry="3" fill="#444" stroke="black" stroke-width="2"/>
            <rect x="45" y="10" width="10" height="10" rx="2" ry="2" fill="#666"/>
            <circle cx="30" cy="125" r="7" fill="black"/>
            <circle cx="70" cy="125" r="7" fill="black"/>
          </g>`;
      }

      const binSpacing = 120;
      const bins = colors.slice(0, 2).map((color, i) => singleBin(color, i * binSpacing)).join('');
      const width = colors.length === 2 ? 240 : 120;

      return `
        <svg width="${width}" height="150" viewBox="0 0 ${width} 150" xmlns="http://www.w3.org/2000/svg">
          ${bins}
        </svg>
      `;
    }

    const binsDiv = document.getElementById('bins');
    const currentWeek = getWeekNumber(new Date()); // +1 to shift week if needed

    const html = currentWeek % 2 === 0
      ? generateTrashBinSVG('green', 'blue')
      : generateTrashBinSVG('green');

    binsDiv.innerHTML = html;
  </script>
</body>
</html>
